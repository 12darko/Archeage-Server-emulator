using LocalCommons.Logging;
using LocalCommons.Network;
using LocalCommons.Utilities;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection;
using System.Text;
using ArcheAgeProxy.Properties;

namespace ArcheAgeProxy.ArcheAge.Network
{
    
    /// <summary>
    /// Packet List That Contains All Game / Client Packet Delegates.
    /// </summary>
    public static class PacketList
    {
        private static int m_Maintained;
        private static int m_idx;
        private static bool end;

        private static PacketHandler<ProxyConnection>[] m_GHandlers;
        //private static string   clientVersion;
        public static PacketHandler<ProxyConnection>[] GHandlers
        {
            get { return m_GHandlers; }
        }
        public static void Initialize()
        {
            m_GHandlers = new PacketHandler<ProxyConnection>[0x10];

            Registration();
        }
        private static void Registration()
        {
            //Proxy Server Packets
            Register(0x01, new OnPacketReceive<ProxyConnection>(Handle_CTJoin_0x01));
            Register(0x02, new OnPacketReceive<ProxyConnection>(Handle_NoPacket_0x02));
            Register(0x05, new OnPacketReceive<ProxyConnection>(Handle_CTContinue_0x05));
            Register(0x0A, new OnPacketReceive<ProxyConnection>(Handle_CTQueryCharName_0x0A));
        }
        #region Game Server Delegates
        private static void Handle_CTJoin_0x01(ProxyConnection net, PacketReader reader)
        {
            //получили CTJoin_0x0001
            short id = reader.ReadLEInt16();
            long AccountID = reader.ReadLEInt64();
            int cookie = reader.ReadLEInt32();

            byte success = 0; //GameServerController.RegisterGameServer(id, password, net, port, ip);
            //отправляем на него TCJoinResponse_0x01
            net.SendAsync(new NET_TCJoinResponse_0x01(success));
            m_idx = 0;  //0 - разрешаем пакеты
            end = false; //false - разрешаем пакеты
        }
        private static void Handle_NoPacket_0x02(ProxyConnection net, PacketReader reader)
        {
            //получили NoPacket_0x02
            if (m_idx == 0)
            {
                string msg = "000000001E0000001E0000006033040E2E0000C1CE4078BD6008F5070000000000000000803F57840000B5720D710A0000DA4E40C3F164F9830C0000000051800000803FA216000036730D710A0000BA3E40C3F464697C0C0000000051800000803FA2160000DE290B710A0000A945400CE364EF8A0C0000000051800000803FA2160000409107710A00004818402AC7644B760C0000000052B00000803FA21600001E15001E130000850D40F7D76462720C00000000B7590000803FAC2F000094140031020000640940CBB26495750C00000000EB7F0000803F0D030000931400300200003A03404AB36495750C00000000B7590000803FF30300009214002E0200002403403CBE6410750C00000000B7590000803FF2030000911400140200002C034058B86410750C00000000B7590000803FD40300003C140040010000800240D3D06402740C0000000047780000803F6B0000004A450372010000592F40274565EB340C0000000000000000803F5B0B0000CF360DCD080000355940773C6507250C0000000000000000803F51110000EC720DCD080000174240E12C65D1340C0000000000000000803F5111000017F100CD080000D949406D3665862D0C0000000000000000803F51110000D9600DCD080000ED3540412765A23D0C0000000000000000803F511100009B8E09CD080000201640CE0365F3600C0000000000000000803F51110000794C0DCD080000E7F94040CA6539F60B0000000000000000803F511100000CFF09CD08000080CF4073D965A4030C0000000000000000803F511100000A9900CD0800007C2A4019226576460C0000000000000000803F5111000036AA07C60800001F374028B96547C40B0000000000000000803F34110000191302C60800001649406DC565A7BB0B0000000000000000803F34110000130005C6080000890B4081AF657BBF0B0000000000000000803F3411000003BE00C608000036144082B6650CBC0B0000000000000000803F34110000C4F60EC60800002F3A4086AF6551CD0B0000000000000000803F34110000D14E06C60800002F004048AE6568BF0B0000000000000000803F341100000C6407C6080000C9174015AA65F2C50B0000000000000000803F34110000A2E10BC608000023404059BF65A3C00B0000000000000000803F341100000B1B04720100001C2E40C5A965B2CC0B0000000000000000803F5B0B0000DFC60CC608000027DC400C996656BD0B0000000000000000803F34110000";
                net.SendAsync(new NET_TCDoodadStream_0x02(msg));
            }
            m_idx += 1;
        }
        private static void Handle_CTContinue_0x05(ProxyConnection net, PacketReader reader)
        {
            //получили CTContinue_0x05
            string msg = "";
            //short ID = reader.ReadLEInt16(); //ID мы не можем считывать
            int ID2 = reader.ReadLEInt32();
            int next = reader.ReadLEInt32();
            //if (!end)
            {
                switch (next)
                {
                    case 30:
                        //"92030200" +
                        msg = "000000003C0000001E000000CBD70CC6080000D1D4408D90665EBB0B0000000000000000803F341100007BD70CC60800005BED4041A466B4B50B0000000000000000803F34110000B9D80CC60800007AB5405277663CBD0B0000000000000000803F34110000B2860CC608000054F0403BAF6672BE0B0000000000000000803F34110000B6020A910A0000593C4072BF66E6C70B00000000F6FE0000803FD116000083200C910A00003A414044C266D5C70B00000000F6FE0000803FD116000051CA04910A0000743C40CDC366ADC70B00000000F6FE0000803FD1160000E72B0C910A0000AE4040F4C666B3C70B00000000E9FC0000803FD1160000D97001910A00004B3C4021C866A8C70B00000000863B0000803FD1160000C93B0F910A00007C3F403ACB6677C70B000000004A2D0000803FD1160000A7280C910A0000D9444051C766C0C70B00000000EC050000803FD1160000BBEC0B910A0000D743406ECB6674C70B00000000EC050000803FD11600003D6B0B910A00000F4840D0CB66AEC70B000000007DFA0000803FD116000036080C910A00008D4C4065CB66F2C70B0000000056F90000803FD11600003D2B0C910A00002A514088CB6639C80B000000004F170000803FD11600001F1F09910A0000B55540D4CB6661C80B00000000C8080000803FD11600005C230C910A00001256408EC766ABC80B00000000D1F30000803FD116000087C207910A0000815A4084CB668DC80B00000000CB270000803FD116000068620D910A0000D15A40F1C666DAC80B000000008A210000803FD116000023040C910A00000D5F40FCCA66DDC80B000000002F170000803FD1160000996401910A0000926340D0CB6614C90B000000000B840000803FD1160000052A0C910A0000415F40CBC66622C90B00000000C9860000803FD116000065F10B910A00005C634083C76623C90B00000000D3810000803FD1160000A20F0C910A0000865E406EC2665CC90B00000000EF800000803FD1160000C4A20B910A00003763403EC26691C90B00000000EF800000803FD1160000F0840A910A0000FF624037BD66F4C90B00000000FF7F0000803FD116000097BD0A910A0000C45E40D7BD66DDC90B00000000FF7F0000803FD116000065310E910A00008C63407CB86686CA0B00000000FF7F0000803FD11600000B190A910A0000A95E4062B9662BCA0B00000000FF7F0000803FD11600008F6C0B910A00004163404DB466CBCA0B00000000FD7F0000803FD1160000";
                        break;
                    case 60:
                        //"92030200" +
                        msg = "000000005A0000001E0000005F220C910A0000E65E40E1B466B8CA0B0000000009800000803FD1160000A3690B910A0000D85E409AB06636CB0B0000000014800000803FD1160000F4240C910A00008F6340D3AF6658CB0B0000000006A30000803FD1160000BBB800910A0000695F409DAC667ECB0B00000000FC880000803FD11600006F8C08910A0000AB634066AB66D4CB0B00000000FC880000803FD116000057530A910A0000A860402DA8660ACC0B00000000F6860000803FD1160000A9200C910A0000775C407BA86600CC0B000000005C850000803FD1160000D9260C910A000095634012A4667DCC0B00000000DD880000803FD1160000AC1F0C910A00004F5F400EA46644CC0B00000000A5810000803FD11600009F5000910A0000195B4011A46638CC0B00000000EA800000803FD1160000701F0C910A000067584099A966BDCB0B000000002D700000803FD1160000DC020C910A00001157409FA46605CC0B00000000BD5E0000803FD11600001C4D0A910A0000D65340D1A866B4CB0B0000000082620000803FD116000052160C910A0000C852401DA466FACB0B0000000082620000803FD1160000B21E0C910A0000FD4E40D2A86657CB0B0000000080510000803FD116000054CA0B910A0000384E4015A466B2CB0B0000000080510000803FD1160000BBA905910A0000404A40ECA966BBCA0B000000008E5F0000803FD11600006F260C910A0000D54940A7A46638CB0B000000008E5F0000803FD1160000148C0A910A00001545405BA9660FCA0B00000000CE450000803FD1160000A36B0A910A0000534540B5A466A9CA0B000000006D280000803FD1160000A1BD0B910A0000BE4040CFA86697C90B000000005E0F0000803FD11600009EF10B910A0000EE40409BA46621CA0B00000000BB0E0000803FD116000044BB08910A0000B63C4004A96622C90B00000000BB0E0000803FD116000088150C910A0000D63C40C9A466C0C90B0000000015F50000803FD116000058A107C6080000FD104091106691BC0B0000000000000000803F341100007ED401C6080000C5D6400429660BC10B0000000000000000803F34110000857807C6080000A0DA40E21E66B2C10B0000000000000000803F341100009D9507C60800004E3140E913661DBB0B0000000000000000803F34110000CB3B0AC6080000123740B11E66F1BC0B0000000000000000803F34110000799D07C60800008EBB400C136654C50B0000000000000000803F34110000";
                        break;
                    case 90:
                        //"92030200" +
                        msg = "00000000780000001E000000E21202C60800005AC7404117661EC20B0000000000000000803F341100005B2E06C6080000EC1A401B0C6655BA0B0000000000000000803F34110000FE7307C6080000E13C401E156662BA0B0000000000000000803F34110000539307C608000049CD40CA216666BC0B0000000000000000803F34110000408F07CD080000E4BF4068DC66BBCC0B00000000C9C30000803F51110000F19407CD080000D9BD4048DC667ECC0B000000009A350000803F511100000D8807C6080000C3BB4064DC663FCC0B000000009D880000803F34110000C62107C6080000A4B94066DC661DCC0B000000004CB00000803F3411000010CD08CD08000055B74059DC66F0CB0B000000007E200000803F5111000013F805830100002A2040EE826626CF0B00000000CCE30000803FDC0A000012C604DF170000B3AB400DBD66C5D00B00000000C5F80000803FCE3E0000344D00DF17000007A5401FC36633CF0B0000000013EE0000803FCE3E0000CDEB042F200000E4C040C3F86690CB0B00000000CF890000803FD85900008F0608421A000044AC40C9CB660ACE0B00000000B0E30000803FE9480000A0500A421A000077AC4092D2668BCC0B00000000A3910000803FE948000060520A421A00009DA54098D2663DCC0B00000000BCA70000803FE948000094B20C76010000862840948D6674CE0B00000000AE7F0000803FDA1D0000A7830173010000A66E4008DE66E6C80B00000000183E0000803FAE1F00005D590076010000132740BE93665ECE0B000000001B810000803FDA1D000004B50A2F200000B03840C59066E6CD0B00000000D0B00000803FEA5900007A540B83010000082040CC976638CF0B0000000082C10000803F9157000018220C830100004520400D78667ACE0B00000000C0270000803F91570000FE3D0B631F00004B3E408979669ECE0B0000000087AD0000803FCB5600003440078B010000E5C7401CE066B8CD0B0000000077830000803FF51D00006D3F07920100001DA8401BE066D1CA0B0000000074890000803FFC1D0000AE3D07920100000DA840E0FF6614CA0B00000000F27F0000803F8D5700003582018B0100008AB0403EF066D3CA0B00000000FD030000803FF51D00009853019201000024A840BBEA6696CA0B0000000051880000803FFC1D0000B24A019201000022A840B6F5667ACA0B000000004F6D0000803FFC1D00004946019301000018D54012FA66DECD0B0000000019810000803FFE1D0000";
                        break;
                    case 120:
                        //"92030200" +
                        msg = "00000000960000001E000000D03D01830100003B20406B8D6632CF0B00000000D47F0000803F91570000113A0176010000FA2740DE9966E2CD0B00000000B6870000803FDA1D0000483201DF17000062A5400EBD6629D00B0000000075780000803FCE3E0000062501421A000068A540BECB66A6CD0B000000001D580000803FDF4A0000421C01DF17000006AB4012C366D4CF0B00000000DB210000803FCE3E00001E1B01BE0B0000722B40E39666B4CD0B0000000044FB0000803F951A00001D1B01BE0B0000292C402299666CCD0B0000000044FB0000803F951A00001C1B01BE0B00007F2E409C99663CCD0B0000000044FB0000803F951A00001B1B01B20B00005C2C40C79B663ACD0B0000000065FB0000803F551A00001A1B01B20B0000B62E40C99B66CBCC0B00000000E7FC0000803F551A0000191B01B20B0000C43040759B6686CC0B00000000E7FC0000803F551A0000951201BD0B0000FEBB4017C06668D10B000000006AC50000803F8B1A0000841001BD0B0000B1B7401EBC66A0D10B000000003C800000803F8B1A00002D150051180000EE6440ABD066FE850B0000000000000000803F5540000084380C720100008AC3407F4867F7D70B0000000000000000803F5A0B00002B530972010000506D40A560670BE00B0000000000000000803F5A0B00007BBC0A7601000022B840FB226707C90B00000000F07E0000803FAB060000B5A80C7601000076BE40CD2267D8C80B00000000B8350000803FDA1D00008D77059301000012D540570667AACC0B00000000427E0000803FFE1D000000F50E7601000025B540821D67DDC80B0000000007E50000803FDA1D000024F20EBC010000CEBF408E0E6787C90B00000000E0300000803F95570000A8210D960100009BEE40EC116773D10B0000000004800000803F5328000038ED0E9301000011D5402B00675BCD0B00000000476F0000803FFE1D0000D6AF0676010000D8C440F0226757C90B00000000B8490000803FDA1D0000B0CC089401000044E840B91367BFCF0B0000000076960000803F171F00005E2E0C96010000A4E140FD116708CE0B0000000067590000803F5328000013300B940100004FD440950B67DACB0B0000000002800000803F171F00002FAF0776010000F1CA40B922672FCA0B0000000027C00000803FDA1D0000D4FB033C0D000000F44005FD678BEA0B0000000079560000803FD81E00008CF4019D010000F8CB40FE14678AC90B00000000E9E90000803F0B1E0000";
                        break;
                    case 150:
                        //"92030200" +
                        msg = "00000000B40000001E00000085F4019D010000E0FB40B80067B1D50B0000000016040000803F0B1E000082F4019D010000DBFB40E008673CD50B00000000BD800000803F0B1E00000EF301BC01000018C9408F0E67C4C90B00000000CD600000803F955700008AC20196010000EADB404F0C672FCD0B000000007F630000803F53280000E76F01BC010000B4B6409B0E676EC90B00000000F6D70000803F95570000CC42019601000023E840F90C67ABCF0B000000009DA50000803F53280000103A01BC01000047BB406B166792C80B0000000051800000803F95570000773301BC010000CEC440AA16677DC80B00000000CB020000803F95570000051D01960100002BD640F811678ECB0B00000000A2AF0000803F532800005D12015C1B00008A6E4057036796C90B00000000C8730000803F864900005C12015C1B00005B754079096797C90B000000001E810000803F76490000199F090E2E00003A88413E8A6036A4070000000000000000803F578400002DE2010E2E0000C95A4188C560AFC7070000000000000000803F57840000CE080ECD0800006D1041E5E36554F20B0000000000000000803F5111000007500DCD080000AE0B4115D565C5F40B0000000000000000803F511100001EEB0C720100002F1D4115FC65C6EC0B0000000000000000803F590B00002E1500511800007F054138676523FD0B0000000000000000803F55400000A85D0CCD080000231841CF0C666EE80B0000000000000000803F51110000305D0DCD080000331341A119668CE50B0000000000000000803F51110000E62101C6080000891D41C5CF6659BE0B0000000000000000803F341100004BA90BC6080000E51241FACC667CBF0B0000000000000000803F3411000030CB0CC60800001F0C41A8C3666ABC0B0000000000000000803F3411000082DD09710A00009D424155FB66BAE20B0000000051800000803FA5160000940B0972010000303B410C2C66F4080C0000000000000000803F5B0B00003E950C710A0000166F418A5D6698130C000000006BFA0000803FA2160000081B0E710A00005B8141D8366616180C00000000E6C40000803FA21600000A1B0E710A0000D161410049665D120C000000001C380000803FA2160000CB050E710A00001096412E4D66D0150C00000000D8F40000803FA216000099D8080E2E00001C6542D9DE602A99060000000000000000803F578400002915000D1500007ECC422DBF60B14E0600000000EE740000803F64360000";
                        break;
                    case 180:
                        //"92030200" +
                        msg = "00000000D20000001E0000002515000D1500000F1D429F71602B71070000000046850000803F64360000D51804780100003CF44225AC61710906000000000D620000803FBD0300002815000D150000BC9C423A2861453E0600000000D2750000803F643600002715000D150000DB68427F5361738E0600000000977E0000803F643600002615000D150000834042D88E61A8CF06000000004C7F0000803F6436000008D80C22030000A6C042070762F4230600000000F3910000803F9B000000C0CF0E22030000A8BB4248006261250600000000D7C40000803F831F0000A95902C6080000F2354273C46670BF0B0000000000000000803F3411000038C807C6080000F72A4221C666FEBF0B0000000000000000803F34110000855C09C60800002B3F42A5CB6607BF0B0000000000000000803F34110000D2950BC6080000D5244228CF6615BD0B0000000000000000803F341100008DA709C6080000A11D424AC76635C20B0000000000000000803F34110000D42C01C608000066484241CA663CCA0B0000000000000000803F3411000042E609C6080000AE33427FCF6653BD0B0000000000000000803F34110000DC9707C6080000FC194230D466DBB60B0000000000000000803FFF170000301500012D00007A8142449766B8D30B00000000CBDD0000803F36800000476901792D0000B50642E1DA6739C70B00000000ADE80000803F0481000007D708792D00000F204238F56747C80B00000000ADE80000803F04810000CA2907792D00008624426BC667B0C80B00000000ADE80000803F04810000320607792D0000D62D4251E16793C90B00000000ADE80000803F048100003215004B2D000000444275C16737C80B000000007D0E0000803FA58000003115001A2D0000663F42766467D8D20B7AF39204D07D0000803F808000002F1500012D0000F53F428A8967E5CD0B000000001FE20000803F368000002C15000D150000F7E443963F60DE5806000000002C7F0000803F643600002B15000D150000DD60438D6260883B0600000000E07F0000803F643600002A15000D150000421343E4876089840600000000EE740000803F643600001F3F0D9E010000811643BE7761DBEB050000000000000000803F83030000017C0122030000B5A4435C3F6158AC0500000000D7C40000803F9A00000012F10C9E010000D08843453E61E2E0050000000000000000803F83030000FE490C9E010000417B43523261FFED050000000000000000803F83030000";
                        break;
                    case 210:
                        //"92030200" +
                        msg = "00000000F00000001E0000006F87099E010000374D43222F6185E5050000000000000000803F83030000C31400E807000080FC43AFF161419D050000000015800000803F480F0000A3210597010000E86B43D91362FEE8050000000000000000803FAC0300004FC60497010000E14943DD1B628AF9050000000000000000803FAD0300007BF40A8706000096A6433B516272D2050000000064A20000803FEE0B00004EEE0473010000E5D743A70962DDAE0500000000E6C40000803F7C0300009EFE033C0D000029E7430F1D6291AF05000000003E800000803FD81E000030730A9701000053154414DC60F76E050000000000000000803FAC0300001FE205730100009E454412F360B5630500000000E6C40000803F7C03000013610197010000161244DE3461076A050000000000000000803FAD030000EA19087301000011F444162561E22D0500000000B41B0000803F7C030000E4750578010000C73B44222761406105000000000D620000803FBD030000F4B60B73010000A88E44D2C661E1810500000000E6C40000803F7C030000FD1400150900001E0E4411FA61E797050000000081B70000803F1A120000A814008706000074A544619D617A3F050000000064A20000803FEE0B0000F79E0D220300003AB2444344628ACB050000000094010000803F831F00006E320CE408000095AA44ABF5623B110600000000FD970000803FA911000011750E22030000D5C144FC3F62C2B2050000000094010000803F831F000022EF0497010000E5F7441E1862C244050000000000000000803FAD03000020D60A8706000066814416CF6299F5050000000064A20000803FEE0B00004A2F09870600006B764486DC6245F3050000000064A20000803FEE0B0000AAE50DC1020000D77544FBB762FFE805000000004C7F0000803F5A0500009C3A0473010000B0B1444BFD62AA150600000000E6C40000803F7C030000A0CB0073010000550A4439146252980500000000E6C40000803FA15700000B1007C102000022F044B39A621B1F0600000000C6440000803F5A050000B95502C102000018E544A7B3625C1E060000000035220000803F5A050000B45502C1020000B7ED440B9662251E0600000000C6440000803F5A0500000C1500C1090000632844E91962FE9B0536F9720A7C810000803FB91400000B1500C1090000872444BC1562B2970500000000D4800000803FB91400000A1500C1090000402344ED0F627D9705000000003E7E0000803FB9140000";
                        break;
                    case 240:
                        //"92030200" +
                        msg = "000000000E0100001E000000091500C1090000FA1244B41262CD9705000000003E7E0000803FB9140000A7140087060000208D446ADE62CBFE050000000064A20000803FEE0B00003D140040010000191344480E62AE97050000000094810000803F6B000000BCDB0D7301000092B544B85E63D8660600000000127A0000803F7C030000029C0773010000C5B844EA8E630B9F0600000000127A0000803F7C030000B7F1067301000051D544A79B6397AC0600000000FA7F0000803F7C030000F6490CC102000007D444A21563532406000000005A240000803F5A05000022150034140000E1D14469976317AB0600000000F67C0000803FA6340000AC1400870600008DD144B48E63E9A6060000000064A20000803FEE0B0000AB14008706000061CE44C88C63C0A5060000000064A20000803FEE0B0000AA14008706000077C944C56363AA6D060000000064A20000803FEE0B0000A914008706000003C144C861632D6C060000000064A20000803FEE0B000024150037140000CD7F44198C65FBFE0600000000A2A10000803F3F35000023150037140000813844F3D765AD210A000000007D260000803F3F35000017B30BE4080000379445EEE560B8570500000000FD970000803FA9110000FC660478010000BE7E458AE1608E5005000000000D620000803FBD0300009C5A028B1400002DD5459C7F60ED8A05BEF8BEF870790000803F38350000201500E1130000CDDB45299260D5850500000000B41B0000803F9C330000B11400870600003645453A82609A48050000000064A20000803FEE0B0000E20A0CE40800006C17453A14615C240500000000FD970000803FA911000084FE0073010000CB9645816E61650D0500000000D9680000803F7C0300003E860578010000D4D945D37361130C050000000018360000803FBD030000B0140087060000571745E80161FA2E050000000064A20000803FEE0B0000964A0406070000F4B14560EC620362060000000003680000803F86270000821B08060700001F6F457EDA62655F0600000000381F0000803F86270000A23F0306070000FE1B4565EF62FC3106000000002A0E0000803F86270000551E0822030000ED7645FB6762527B050000000094010000803F9B0000000FE00C22030000318845E85A62D47A050000000094010000803F9B00000036990D97010000061445B83062A04205000000002CBC0000803FAD030000DE60059701000094CF45AC126208280500000000EB4D0000803FAD030000";
                        break;
                    case 270:
                        //"92030200" +
                        msg = "000000002C0100001E00000031D80578010000A1FA4553D962AF64060000000099850000803FBD0300004A5A0087060000820C45F1F0620F25060000000064A20000803FEE0B000007E80DC10200000FD045D0DD62345B065E031B0C458B0000803F5A05000005E60DC1020000E0AC45EEEB625863065E031B0C458B0000803F5A050000BD0A07C1020000E06C45AAD062FC5F060000000000000000803F5A050000BD5502C102000040CF454BD5627C580677FF8E0C3A810000803F5A050000B85502C102000018AA45D9EE62F96206F415F6FC4C550000803F5A050000B65502C10200007AD0455FD462685806DF030CF47A7D0000803F5A050000B35502C1020000986D452DD062B560065E031B0C458B0000803F5A05000015E60C06070000F7D0451ECB63F20706000000009CA80000803F86270000BD600C060700008BC345519D63A91C06000000009CA80000803F86270000D302070607000025AC450A3463025B06000000009CA80000803F862700000A2B0997010000FEAF45993663005A0600000000778E0000803FAC030000F3460B78010000AD524564D763C75206000000000D620000803FBD030000018D0C73010000C2094566B2636A9B0600000000669F0000803F7C03000099FA0A87060000DBE0452DC7637200060000000064A20000803FEE0B0000CD3100870600004DD04588C463C507060000000064A20000803FEE0B0000D48C0D730100001D754536DA63173C06000000008A830000803F7C030000E4530C7301000012C045E39B63321D06000000006C180000803F7C030000BC5502C102000042A7453818633D6606DCFD550EC77D0000803F5A0500001F1500E113000038B1451439633F5906000000004CE40000803F9C330000AE140087060000E907452AAA63C898060000000064A20000803FEE0B0000AD14008706000058044551A563BF990600000000B8DC0000803FEE0B000078860C73010000DCA345550B64AB3A0600000000C6E90000803FA157000007B70AE4080000D25945615466CF6C0800000000FD970000803FA911000041D50EE4080000A8B64662FC60F72F0500000000FD970000803FA911000090340B78010000ECC3462E2160C31C050000000000000000803FBD030000B914008706000069FE468BFC60EB06050000000064A20000803FEE0B0000B5140087060000FC5E46923060804F050000000064A20000803FEE0B0000F9E60878010000459046A29061B0E0040000000018360000803FBD030000";
                        break;
                    case 300:
                        //"92030200" +
                        msg = "000000004A0100001E000000658D0178010000A7F3460634618E0005000000005E5E0000803FBD0300005E880B7801000046DE4692786172F1040000000000000000803FBD030000C92C05780100008BC246A44A61610B05000000007EA50000803FBD0300005AF10178010000384946AA07618E4E0500000000EE850000803FBD03000067ED0E73010000080A469B9C6195000500000000B41B0000803F7C0300007E720773010000E59A465D29620DE70400000000E77E0000803F7A0200003B9508970100000B2346743362C013050000000000000000803FAC0300005F740173010000D3144691E4626C6906000000003E7E0000803F7C030000F6320C780100002360463AC362C8A7050000000086890000803FBD030000B8140087060000F1ED4644DE625EF6040000000064A20000803FEE0B0000B714008706000004E94655806266F3040000000064A20000803FEE0B0000B6140087060000FFBB4643476247E1040000000064A20000803FEE0B000084C40D97010000DDD146CE45633907050000000000000000803FAC030000D35B0A970100008BFC46D60F634FEF0400000000778E0000803FAB030000A8E00673010000ADE446E1FC634EB40500000000C6E90000803F7C03000067E9087801000024DC46629C63472C050000000086890000803FBD030000E1C10C7801000047ED468CF163A1B40500000000F7BD0000803FBD03000042A30543060000AC8546DD5E63DC2D05000000003EC60000803F250A00009EAD0943060000EF6746DF6E63B33B05000000003EC60000803F250A0000E76C0E730100008D224673EB6364EA0500000000A5460000803F7C030000B4140087060000CB3E461B74633752050000000064A20000803FEE0B000090490878010000654E46856664ADBA0500000000C2390000803FBD030000A59604C50A0000A2CF46599264114A05000000007FB30000803FFB2700007F7805C50A00008946466C62641CC205000000007FB30000803FFB27000094E60EC50A0000B03B461D126400CC05000000007A760000803FFB270000444B0578010000409646D06464D6770500000000C34D0000803FBD030000DAF60E730100009AA746205264E47A05000000003ABB0000803F7C03000094660E7301000034D5462BCA64613405000000003ABB0000803FA1570000FE140015090000BEFE4625C564893105000000000B730000803F1A1200000D600B6F010000BEE446499066D6460600000000887B0000803F7F1F0000";
                        break;
                    case 330:
                        //"92030200" +
                        msg = "00000000680100001E0000002A6F0D6F0100002CF246EC7766D4480600000000F07B0000803F7F1F000002D50897010000BC5247B78960F3D00400000000B5100000803FAC0300006ED909970100002D9547BF4A60CBC50400000000EB4D0000803FAC03000002A50B78010000563A477FE86007D60400000000B5100000803FBD030000D29301E90800001D9647F945609AC004000000007F350000803FBD110000BA140087060000B02C479A5360D4F4040000000064A20000803FEE0B0000754B0BCD0A0000B3FF4707EC617A8704000000006A140000803F97170000E60A0878010000D8C0470E0761CDB5040000000000000000803FBD030000FB1400E908000090C3474E0361F9B404000000007F3585EB113FBD110000F15409970100000ACC4720C762979D0400000000E8C90000803FAB030000FF140015090000230147B2136240CE0400000000DD640000803F1A120000F91400E90800004F4047199A62DED404000000007F3585EB113FBD110000917F0897010000237B47203D6334F204000000000D940000803FAD03000056EE0D970100008EBF4731346368E50400000000778E0000803FAD03000035F408C50A00009C0047A64863D10805000000007FB30000803FFB27000019820EE7080000C7EE47026A6428690400000000B8440000803FB5110000A2AD0878010000F0A0478823647BD2040000000008EA0000803FBD0300006E1C0443060000E310470D4564845605000000003EC60000803F250A0000BC14008706000033F847417464EC76040000000064A20000803FEE0B0000BB1400870600002A4F47077E64E672040000000064A20000803FEE0B0000A014007B0300001C5247C6CE645E1704A406780D967D0000803F5A040000BD600E780100004C5547772865923C050000000077A70000803FBD030000807206E408000047D447B69E653B660500000000FD970000803FBC1700009E140F780100009ED94717A56513620500000000C6E90000803FBD0300001C500E730100001EE047F52D652A4305000000003ABB0000803F7C0300007A7206C9110000DCFA4783D965A847050000000049830000803FB02B0000795A02C91100008AFF4784BB659A4F050000000049830000803FB02B0000785A02C91100005CF747499F651B56050000000049830000803FB02B0000725A02C91100002EE447A0C8656859050000000049830000803FB02B0000211500E1130000D75D47BB1965A0380500000000E6C40000803F9C330000";
                        break;
                    case 360:
                        //"92030200" +
                        msg = "000000007D0100001500000021C40C6F010000BF51477BA2660C940500000000887B0000803F490A00008B98006F010000BA6F47686366B85E0500000000887B0000803F7F1F000047D3056F01000024604734B466F48A050000000038620000803F490A0000C1EB0D7301000061F3477638665C3C05000000003ABB0000803F7C0300007FCE0C73010000E9A247856566CB4805000000003ABB0000803FA15700001D1500CA110000A3D547559366304705000000002E8A0000803FBF2B00000D15003A0A0000EFC547B78566E84305000000000DD00000803FFA150000081500A0090000FAE047739166ED49050000000017770000803F4A140000071500A009000005CF47078166DE49050000000010340000803F4C1400000615005A09000080DE47B183666C4A056F207F547F540000803F4813000005150056090000B3CD47A28F66844B05AF52D024D0240000803F411300000415001E0900008FDE47568566DF43050000000021D20000803F281200000315001E090000B3D647909566E043050000000021D20000803F281200000215001C090000BDD5475A9366E043050000000021D20000803F261200000115001B09000099E547A08766DF43050000000021D20000803F2512000000150019090000B8DB476C8366DF43050000000021D20000803F23120000CD3A07220300008213478D9B67BA25060000000081CA0000803F831F000092830D22030000A71647A6AE67F939060000000094010000803F831F000008A2086F0100003C3C47D4926798120600000000D0870000803F7F1F00000E76006F0100003844470FA267030E060000000038620000803F7F1F0000BED20D770100008FE54717056745DD0500000000F4490000803FEF060000";
                        break;
                    case 381:
                        //"92030200" +
                        msg = "010000001E0000001E000000CA1500012D0000D0A1408E5369BCBD0B0000000046850000803F36800000C115000D15000064BB406E386B3F490C000000003C020000803F64360000C015000D150000426C4099426B8FF90C000000003C020000803F64360000BF15000D150000C91540DABD6B84920D000000003C020000803F64360000806A0E792D0000D9EF41212368B3C90B00000000ADE80000803F04810000D2000C792D000026E54115006803C80B00000000ADE80000803F04810000F5D80572010000075841CC94683FE80B0000000000000000803F590B000098BC0D792D000083FD411840686AD20B00000000ADE80000803F04810000838E01D3080000A6FA41B7F26832240C0000000046730000803F691100007F1509792D00002ED841FD4B6824DA0B000000009D280000803F04810000D86B09792D0000F6DD41C54C687BD80B000000009D280000803F04810000ED7309792D0000F4D641813E68C9D70B000000009D280000803F04810000C87F0DC6080000A2EA4112E36846240C0000000000000000803FFF1700003DA00AD308000019E341FAED68BF240C0000000063E50000803F691100004BAD0AD30800003BF041E4EC6858240C0000000094010000803FE0170000AAB10AD3080000DFFB4108E8680E270C0000000027910000803F69110000D58E07D308000057F64126E2681C240C00000000D7C40000803FE0170000E11500792D000098FD4165AE6893E70B00000000ADE80000803F04810000DF1500792D0000C4F041AA976878E50B000000009D280000803F04810000DE1500792D000025F0413A8A6889E20B000000009D280000803F04810000DC1500792D0000CEEE41DD93682DE50B000000009D280000803F04810000DB1500792D0000CFEA41ED8F68F7E40B000000009D280000803F04810000DA1500792D0000D6E841FD9068C5E50B000000009D280000803F04810000D81500792D000074E0412C556805D90B000000009D280000803F04810000D41500792D000085CF41C731681CD50B00000000ADE80000803F04810000D31500792D000053C741121868A4CD0B00000000ADE80000803F04810000D21500792D000096AD412B24689BD10B00000000ADE80000803F04810000D115004C2D00007A33410D6668B1DC0B0000000047780000803FA6800000CB1500012D00003C1B413E7968F7DD0B000000005A030000803F36800000CC1500012D00000AE441811869C4220C0000000095050000803F36800000";
                        end = true;
                        break;
                    default:
                        msg = "000000001E0000001E0000006033040E2E0000C1CE4078BD6008F5070000000000000000803F57840000B5720D710A0000DA4E40C3F164F9830C0000000051800000803FA216000036730D710A0000BA3E40C3F464697C0C0000000051800000803FA2160000DE290B710A0000A945400CE364EF8A0C0000000051800000803FA2160000409107710A00004818402AC7644B760C0000000052B00000803FA21600001E15001E130000850D40F7D76462720C00000000B7590000803FAC2F000094140031020000640940CBB26495750C00000000EB7F0000803F0D030000931400300200003A03404AB36495750C00000000B7590000803FF30300009214002E0200002403403CBE6410750C00000000B7590000803FF2030000911400140200002C034058B86410750C00000000B7590000803FD40300003C140040010000800240D3D06402740C0000000047780000803F6B0000004A450372010000592F40274565EB340C0000000000000000803F5B0B0000CF360DCD080000355940773C6507250C0000000000000000803F51110000EC720DCD080000174240E12C65D1340C0000000000000000803F5111000017F100CD080000D949406D3665862D0C0000000000000000803F51110000D9600DCD080000ED3540412765A23D0C0000000000000000803F511100009B8E09CD080000201640CE0365F3600C0000000000000000803F51110000794C0DCD080000E7F94040CA6539F60B0000000000000000803F511100000CFF09CD08000080CF4073D965A4030C0000000000000000803F511100000A9900CD0800007C2A4019226576460C0000000000000000803F5111000036AA07C60800001F374028B96547C40B0000000000000000803F34110000191302C60800001649406DC565A7BB0B0000000000000000803F34110000130005C6080000890B4081AF657BBF0B0000000000000000803F3411000003BE00C608000036144082B6650CBC0B0000000000000000803F34110000C4F60EC60800002F3A4086AF6551CD0B0000000000000000803F34110000D14E06C60800002F004048AE6568BF0B0000000000000000803F341100000C6407C6080000C9174015AA65F2C50B0000000000000000803F34110000A2E10BC608000023404059BF65A3C00B0000000000000000803F341100000B1B04720100001C2E40C5A965B2CC0B0000000000000000803F5B0B0000DFC60CC608000027DC400C996656BD0B0000000000000000803F34110000";
                        break;
                }
                net.SendAsync(new NET_TCDoodadStream_0x02(msg));
            }
        }
        private static void Handle_CTQueryCharName_0x0A(ProxyConnection net, PacketReader reader)
        {
            //получили CTQueryCharName_0x0A
            int charId = reader.ReadLEInt32();
            net.SendAsync(new NET_TCCharNameQueried_0x09(charId));
        }
        #endregion
        private static void Register(ushort opcode, OnPacketReceive<ProxyConnection> e)
        {
            m_GHandlers[opcode] = new PacketHandler<ProxyConnection>(opcode, e);
            m_Maintained++;
        }
    }
}
